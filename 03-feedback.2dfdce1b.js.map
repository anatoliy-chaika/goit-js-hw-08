{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAUC,SAASC,cAAc,kBACjCC,EAAmB,sBACnBC,EAAY,CAAC,EAEnBJ,EAAQK,iBAAiB,QAASP,EAAAQ,UAClC,SAAsBC,GACpBA,EAAEC,iBAMFJ,EAAUK,MAAQ,GAAGF,EAAEG,cAAcD,MAAME,QAC3CP,EAAUQ,QAAU,GAAGL,EAAEG,cAAcE,QAAQD,QAC/CE,aAAaC,QAAQX,EAAkBY,KAAKC,UAAUZ,GACxD,GAX2D,MAa3D,MAAMa,EAAOJ,aAAaK,QAAQf,GAElC,GAAa,OAATc,EAAe,EACjB,WACE,MAAME,EAAaJ,KAAKK,MAAMH,GAC9BjB,EAAQqB,SAASZ,MAAME,MAAQQ,EAAWV,MAC1CT,EAAQqB,SAAST,QAAQD,MAAQQ,EAAWP,OAC9C,CACAU,EACF,CAEAtB,EAAQK,iBAAiB,UACzB,SAA2BE,GACzBA,EAAEC,iBACFD,EAAEG,cAAca,QAChBC,QAAQC,IAAIV,KAAKK,MAAMH,IACvBJ,aAAaa,WAAWvB,EAC1B,G","sources":["src/js/03-feedback.js"],"sourcesContent":["import * as _ from 'lodash';\n\nconst formRef = document.querySelector('.feedback-form');\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\nconst dataArray = {};\n\nformRef.addEventListener('input', _.throttle(handleSubmit, 1000));\nfunction handleSubmit(e) {\n  e.preventDefault();\n\n  // const {\n  //   elements: { email, message },\n  // } = e.currentTarget;\n\n  dataArray.email = `${e.currentTarget.email.value}`;\n  dataArray.message = `${e.currentTarget.message.value}`;\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(dataArray));\n}\n\nconst data = localStorage.getItem(LOCALSTORAGE_KEY);\n\nif (data !== null) {\n  function updateFormValue() {\n    const dataParced = JSON.parse(data);\n    formRef.elements.email.value = dataParced.email;\n    formRef.elements.message.value = dataParced.message;\n  }\n  updateFormValue();\n}\n\nformRef.addEventListener('submit', clearLocalStorage);\nfunction clearLocalStorage(e) {\n  e.preventDefault();\n  e.currentTarget.reset();\n  console.log(JSON.parse(data));\n  localStorage.removeItem(LOCALSTORAGE_KEY);\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$formRef","document","querySelector","$b00c40859be242c5$var$LOCALSTORAGE_KEY","$b00c40859be242c5$var$dataArray","addEventListener","throttle","e","preventDefault","email","currentTarget","value","message","localStorage","setItem","JSON","stringify","$b00c40859be242c5$var$data","getItem","dataParced","parse","elements","updateFormValue","reset","console","log","removeItem"],"version":3,"file":"03-feedback.2dfdce1b.js.map"}